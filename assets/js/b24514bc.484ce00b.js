"use strict";(globalThis.webpackChunkleetcode_the_hard_way=globalThis.webpackChunkleetcode_the_hard_way||[]).push([[41788],{18816(a,e,n){n.r(e),n.d(e,{assets:()=>i,contentTitle:()=>p,default:()=>y,frontMatter:()=>r,metadata:()=>m,toc:()=>l});var t=n(9346),s=(n(37953),n(58860));const r={description:"Author: @wkw | https://leetcode.com/problems/smallest-string-with-swaps"},p="1202 - Smallest String With Swaps (Medium)",m={unversionedId:"1200-1299/smallest-string-with-swaps-medium",id:"1200-1299/smallest-string-with-swaps-medium",title:"1202 - Smallest String With Swaps (Medium)",description:"Author: @wkw | https://leetcode.com/problems/smallest-string-with-swaps",source:"@site/solutions/1200-1299/1202-smallest-string-with-swaps-medium.md",sourceDirName:"1200-1299",slug:"/1200-1299/smallest-string-with-swaps-medium",permalink:"/solutions/1200-1299/smallest-string-with-swaps-medium",draft:!1,editUrl:"https://github.com/wingkwong/leetcode-the-hard-way/tree/main/solutions/1200-1299/1202-smallest-string-with-swaps-medium.md",tags:[],version:"current",sidebarPosition:1202,frontMatter:{description:"Author: @wkw | https://leetcode.com/problems/smallest-string-with-swaps"},sidebar:"tutorialSidebar",previous:{title:"1201 - Ugly Number III (Medium)",permalink:"/solutions/1200-1299/ugly-number-iii-medium"},next:{title:"1219 - Path with Maximum Gold (Medium)",permalink:"/solutions/1200-1299/path-with-maximum-gold-medium"}},i={},l=[{value:"Problem Link",id:"problem-link",level:2},{value:"Problem Statement",id:"problem-statement",level:2},{value:"Approach 1: DSU",id:"approach-1-dsu",level:2}],o=(g="SolutionAuthor",function(a){return console.warn("Component "+g+" was not imported, exported, or provided by MDXProvider as global scope"),(0,s.yg)("div",a)});var g;const c={toc:l};function y({components:a,...e}){return(0,s.yg)("wrapper",(0,t.A)({},c,e,{components:a,mdxType:"MDXLayout"}),(0,s.yg)("h1",{id:"1202---smallest-string-with-swaps-medium"},"1202 - Smallest String With Swaps (Medium)"),(0,s.yg)("h2",{id:"problem-link"},"Problem Link"),(0,s.yg)("p",null,(0,s.yg)("a",{parentName:"p",href:"https://leetcode.com/problems/smallest-string-with-swaps"},"https://leetcode.com/problems/smallest-string-with-swaps")),(0,s.yg)("h2",{id:"problem-statement"},"Problem Statement"),(0,s.yg)("p",null,"You are given a string ",(0,s.yg)("inlineCode",{parentName:"p"},"s"),", and an array of pairs of indices in the string ",(0,s.yg)("inlineCode",{parentName:"p"},"pairs")," where ",(0,s.yg)("inlineCode",{parentName:"p"},"pairs[i] = [a, b]")," indicates 2 indices(0-indexed) of the string."),(0,s.yg)("p",null,"You can swap the characters at any pair of indices in the given ",(0,s.yg)("inlineCode",{parentName:"p"},"pairs")," ",(0,s.yg)("strong",{parentName:"p"},"any number of times"),"."),(0,s.yg)("p",null,"Return the lexicographically smallest string that ",(0,s.yg)("inlineCode",{parentName:"p"},"s")," can be changed to after using the swaps."),(0,s.yg)("p",null,(0,s.yg)("strong",{parentName:"p"},"Example 1:")),(0,s.yg)("pre",null,(0,s.yg)("code",{parentName:"pre"},'Input: s = "dcab", pairs = [[0,3],[1,2]]\nOutput: "bacd"\nExplaination:\nSwap s[0] and s[3], s = "bcad"\nSwap s[1] and s[2], s = "bacd"\n')),(0,s.yg)("p",null,(0,s.yg)("strong",{parentName:"p"},"Example 2:")),(0,s.yg)("pre",null,(0,s.yg)("code",{parentName:"pre"},'Input: s = "dcab", pairs = [[0,3],[1,2],[0,2]]\nOutput: "abcd"\nExplaination:\nSwap s[0] and s[3], s = "bcad"\nSwap s[0] and s[2], s = "acbd"\nSwap s[1] and s[2], s = "abcd"\n')),(0,s.yg)("p",null,(0,s.yg)("strong",{parentName:"p"},"Example 3:")),(0,s.yg)("pre",null,(0,s.yg)("code",{parentName:"pre"},'Input: s = "cba", pairs = [[0,1],[1,2]]\nOutput: "abc"\nExplaination:\nSwap s[0] and s[1], s = "bca"\nSwap s[1] and s[2], s = "bac"\nSwap s[0] and s[1], s = "abc"\n')),(0,s.yg)("p",null,(0,s.yg)("strong",{parentName:"p"},"Constraints:")),(0,s.yg)("ul",null,(0,s.yg)("li",{parentName:"ul"},(0,s.yg)("inlineCode",{parentName:"li"},"1 <= s.length <= 10^5")),(0,s.yg)("li",{parentName:"ul"},(0,s.yg)("inlineCode",{parentName:"li"},"0 <= pairs.length <= 10^5")),(0,s.yg)("li",{parentName:"ul"},(0,s.yg)("inlineCode",{parentName:"li"},"0 <= pairs[i][0], pairs[i][1] < s.length")),(0,s.yg)("li",{parentName:"ul"},(0,s.yg)("inlineCode",{parentName:"li"},"s")," only contains lower case English letters.")),(0,s.yg)("h2",{id:"approach-1-dsu"},"Approach 1: DSU"),(0,s.yg)("p",null,"If we have like ",(0,s.yg)("span",{parentName:"p",className:"math math-inline"},(0,s.yg)("span",{parentName:"span",className:"katex"},(0,s.yg)("span",{parentName:"span",className:"katex-mathml"},(0,s.yg)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,s.yg)("semantics",{parentName:"math"},(0,s.yg)("mrow",{parentName:"semantics"},(0,s.yg)("mo",{parentName:"mrow",stretchy:"false"},"["),(0,s.yg)("mo",{parentName:"mrow",stretchy:"false"},"["),(0,s.yg)("mn",{parentName:"mrow"},"0"),(0,s.yg)("mo",{parentName:"mrow",separator:"true"},","),(0,s.yg)("mn",{parentName:"mrow"},"1"),(0,s.yg)("mo",{parentName:"mrow",stretchy:"false"},"]"),(0,s.yg)("mo",{parentName:"mrow",separator:"true"},","),(0,s.yg)("mo",{parentName:"mrow",stretchy:"false"},"["),(0,s.yg)("mn",{parentName:"mrow"},"1"),(0,s.yg)("mo",{parentName:"mrow",separator:"true"},","),(0,s.yg)("mn",{parentName:"mrow"},"2"),(0,s.yg)("mo",{parentName:"mrow",stretchy:"false"},"]"),(0,s.yg)("mo",{parentName:"mrow",stretchy:"false"},"]")),(0,s.yg)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"[[0,1],[1,2]]")))),(0,s.yg)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,s.yg)("span",{parentName:"span",className:"base"},(0,s.yg)("span",{parentName:"span",className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,s.yg)("span",{parentName:"span",className:"mopen"},"[["),(0,s.yg)("span",{parentName:"span",className:"mord"},"0"),(0,s.yg)("span",{parentName:"span",className:"mpunct"},","),(0,s.yg)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.1667em"}}),(0,s.yg)("span",{parentName:"span",className:"mord"},"1"),(0,s.yg)("span",{parentName:"span",className:"mclose"},"]"),(0,s.yg)("span",{parentName:"span",className:"mpunct"},","),(0,s.yg)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.1667em"}}),(0,s.yg)("span",{parentName:"span",className:"mopen"},"["),(0,s.yg)("span",{parentName:"span",className:"mord"},"1"),(0,s.yg)("span",{parentName:"span",className:"mpunct"},","),(0,s.yg)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.1667em"}}),(0,s.yg)("span",{parentName:"span",className:"mord"},"2"),(0,s.yg)("span",{parentName:"span",className:"mclose"},"]]"))))),", even ",(0,s.yg)("span",{parentName:"p",className:"math math-inline"},(0,s.yg)("span",{parentName:"span",className:"katex"},(0,s.yg)("span",{parentName:"span",className:"katex-mathml"},(0,s.yg)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,s.yg)("semantics",{parentName:"math"},(0,s.yg)("mrow",{parentName:"semantics"},(0,s.yg)("mn",{parentName:"mrow"},"0")),(0,s.yg)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"0")))),(0,s.yg)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,s.yg)("span",{parentName:"span",className:"base"},(0,s.yg)("span",{parentName:"span",className:"strut",style:{height:"0.6444em"}}),(0,s.yg)("span",{parentName:"span",className:"mord"},"0")))))," doesn't connect to ",(0,s.yg)("span",{parentName:"p",className:"math math-inline"},(0,s.yg)("span",{parentName:"span",className:"katex"},(0,s.yg)("span",{parentName:"span",className:"katex-mathml"},(0,s.yg)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,s.yg)("semantics",{parentName:"math"},(0,s.yg)("mrow",{parentName:"semantics"},(0,s.yg)("mn",{parentName:"mrow"},"2")),(0,s.yg)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"2")))),(0,s.yg)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,s.yg)("span",{parentName:"span",className:"base"},(0,s.yg)("span",{parentName:"span",className:"strut",style:{height:"0.6444em"}}),(0,s.yg)("span",{parentName:"span",className:"mord"},"2"))))),", it can still swap with ",(0,s.yg)("span",{parentName:"p",className:"math math-inline"},(0,s.yg)("span",{parentName:"span",className:"katex"},(0,s.yg)("span",{parentName:"span",className:"katex-mathml"},(0,s.yg)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,s.yg)("semantics",{parentName:"math"},(0,s.yg)("mrow",{parentName:"semantics"},(0,s.yg)("mn",{parentName:"mrow"},"2")),(0,s.yg)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"2")))),(0,s.yg)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,s.yg)("span",{parentName:"span",className:"base"},(0,s.yg)("span",{parentName:"span",className:"strut",style:{height:"0.6444em"}}),(0,s.yg)("span",{parentName:"span",className:"mord"},"2")))))," as we can first swap ",(0,s.yg)("span",{parentName:"p",className:"math math-inline"},(0,s.yg)("span",{parentName:"span",className:"katex"},(0,s.yg)("span",{parentName:"span",className:"katex-mathml"},(0,s.yg)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,s.yg)("semantics",{parentName:"math"},(0,s.yg)("mrow",{parentName:"semantics"},(0,s.yg)("mn",{parentName:"mrow"},"0")),(0,s.yg)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"0")))),(0,s.yg)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,s.yg)("span",{parentName:"span",className:"base"},(0,s.yg)("span",{parentName:"span",className:"strut",style:{height:"0.6444em"}}),(0,s.yg)("span",{parentName:"span",className:"mord"},"0")))))," and ",(0,s.yg)("span",{parentName:"p",className:"math math-inline"},(0,s.yg)("span",{parentName:"span",className:"katex"},(0,s.yg)("span",{parentName:"span",className:"katex-mathml"},(0,s.yg)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,s.yg)("semantics",{parentName:"math"},(0,s.yg)("mrow",{parentName:"semantics"},(0,s.yg)("mn",{parentName:"mrow"},"1")),(0,s.yg)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"1")))),(0,s.yg)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,s.yg)("span",{parentName:"span",className:"base"},(0,s.yg)("span",{parentName:"span",className:"strut",style:{height:"0.6444em"}}),(0,s.yg)("span",{parentName:"span",className:"mord"},"1"))))),", then swap ",(0,s.yg)("span",{parentName:"p",className:"math math-inline"},(0,s.yg)("span",{parentName:"span",className:"katex"},(0,s.yg)("span",{parentName:"span",className:"katex-mathml"},(0,s.yg)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,s.yg)("semantics",{parentName:"math"},(0,s.yg)("mrow",{parentName:"semantics"},(0,s.yg)("mn",{parentName:"mrow"},"0")),(0,s.yg)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"0")))),(0,s.yg)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,s.yg)("span",{parentName:"span",className:"base"},(0,s.yg)("span",{parentName:"span",className:"strut",style:{height:"0.6444em"}}),(0,s.yg)("span",{parentName:"span",className:"mord"},"0")))))," with ",(0,s.yg)("span",{parentName:"p",className:"math math-inline"},(0,s.yg)("span",{parentName:"span",className:"katex"},(0,s.yg)("span",{parentName:"span",className:"katex-mathml"},(0,s.yg)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,s.yg)("semantics",{parentName:"math"},(0,s.yg)("mrow",{parentName:"semantics"},(0,s.yg)("mn",{parentName:"mrow"},"2")),(0,s.yg)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"2")))),(0,s.yg)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,s.yg)("span",{parentName:"span",className:"base"},(0,s.yg)("span",{parentName:"span",className:"strut",style:{height:"0.6444em"}}),(0,s.yg)("span",{parentName:"span",className:"mord"},"2"))))),". Therefore, we can use DSU to group all the connected nodes together first, then sort it and replace the character at corresponding indices."),(0,s.yg)("details",null,(0,s.yg)("summary",null,"DSU Template"),(0,s.yg)("pre",null,(0,s.yg)("code",{parentName:"pre",className:"language-cpp"},"class dsu {\n public:\n  vector<int> root, rank;\n  int n;\n  int cnt;\n\n  dsu(int _n) : n(_n) {\n    root.resize(n);\n    rank.resize(n);\n    for(int i = 0; i < n; i++) {\n        root[i] = i;\n        rank[i] = 1;\n    }\n    cnt = n;\n  }\n\n  inline int getCount() { return cnt; }\n\n  inline int get(int x) { return (x == root[x] ? x : (root[x] = get(root[x]))); }\n\n  inline bool unite(int x, int y) {\n    x = get(x);\n    y = get(y);\n    if (x != y) {\n        if (rank[x] > rank[y]) {\n            root[y] = x;\n        } else if (rank[x] < rank[y]) {\n            root[x] = y;\n        } else {\n            root[y] = x;\n            rank[x] += 1;\n        }\n        cnt--;\n      return true;\n    }\n    return false;\n  }\n};\n"))),(0,s.yg)(o,{name:"@wkw",mdxType:"SolutionAuthor"}),(0,s.yg)("pre",null,(0,s.yg)("code",{parentName:"pre",className:"language-cpp"},"class Solution {\npublic:\n    string smallestStringWithSwaps(string s, vector<vector<int>>& pairs) {\n        int n = s.size();\n        dsu d(n);\n        // group all connected nodes together\n        for (auto& p : pairs) d.unite(p[0], p[1]);\n        vector<vector<int>> m(n);\n        // all elements in the same group have the same parent\n        for (int i = 0; i < n; i++) m[d.get(i)].push_back(i);\n        for (int i = 0; i < n; i++) {\n            // build the possible string for group m[i]\n            string t;\n            for (int j = 0; j < m[i].size(); j++) t += s[m[i][j]];\n            // sort the string\n            sort(t.begin(), t.end());\n            // replace each in correponding index\n            for (int j = 0; j < m[i].size(); j++) s[m[i][j]] = t[j];\n        }\n        return s;\n    }\n};\n")))}y.isMDXComponent=!0},58860(a,e,n){n.d(e,{xA:()=>o,yg:()=>y});var t=n(37953);function s(a,e,n){return e in a?Object.defineProperty(a,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[e]=n,a}function r(a,e){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(a);e&&(t=t.filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})),n.push.apply(n,t)}return n}function p(a){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach(function(e){s(a,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(n,e))})}return a}function m(a,e){if(null==a)return{};var n,t,s=function(a,e){if(null==a)return{};var n,t,s={},r=Object.keys(a);for(t=0;t<r.length;t++)n=r[t],e.indexOf(n)>=0||(s[n]=a[n]);return s}(a,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);for(t=0;t<r.length;t++)n=r[t],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(a,n)&&(s[n]=a[n])}return s}var i=t.createContext({}),l=function(a){var e=t.useContext(i),n=e;return a&&(n="function"==typeof a?a(e):p(p({},e),a)),n},o=function(a){var e=l(a.components);return t.createElement(i.Provider,{value:e},a.children)},g={inlineCode:"code",wrapper:function(a){var e=a.children;return t.createElement(t.Fragment,{},e)}},c=t.forwardRef(function(a,e){var n=a.components,s=a.mdxType,r=a.originalType,i=a.parentName,o=m(a,["components","mdxType","originalType","parentName"]),c=l(n),y=s,N=c["".concat(i,".").concat(y)]||c[y]||g[y]||r;return n?t.createElement(N,p(p({ref:e},o),{},{components:n})):t.createElement(N,p({ref:e},o))});function y(a,e){var n=arguments,s=e&&e.mdxType;if("string"==typeof a||s){var r=n.length,p=new Array(r);p[0]=c;var m={};for(var i in e)hasOwnProperty.call(e,i)&&(m[i]=e[i]);m.originalType=a,m.mdxType="string"==typeof a?a:s,p[1]=m;for(var l=2;l<r;l++)p[l]=n[l];return t.createElement.apply(null,p)}return t.createElement.apply(null,n)}c.displayName="MDXCreateElement"}}]);