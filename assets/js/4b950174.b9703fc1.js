"use strict";(self.webpackChunkleetcode_the_hard_way=self.webpackChunkleetcode_the_hard_way||[]).push([[93663],{7717:(e,a,s)=>{s.r(a),s.d(a,{assets:()=>l,contentTitle:()=>m,default:()=>d,frontMatter:()=>r,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"0100-0199/maximum-product-subarray-medium","title":"0152 - Maximum Product Subarray (Medium)","description":"Author: @ColeB2 | https://leetcode.com/problems/maximum-product-subarray/","source":"@site/solutions/0100-0199/0152-maximum-product-subarray-medium.md","sourceDirName":"0100-0199","slug":"/0100-0199/maximum-product-subarray-medium","permalink":"/solutions/0100-0199/maximum-product-subarray-medium","draft":false,"unlisted":false,"editUrl":"https://github.com/wingkwong/leetcode-the-hard-way/tree/main/solutions/0100-0199/0152-maximum-product-subarray-medium.md","tags":[{"inline":true,"label":"Array","permalink":"/solutions/tags/array"},{"inline":true,"label":"Dynamic Programming","permalink":"/solutions/tags/dynamic-programming"}],"version":"current","sidebarPosition":152,"frontMatter":{"description":"Author: @ColeB2 | https://leetcode.com/problems/maximum-product-subarray/","tags":["Array","Dynamic Programming"]},"sidebar":"tutorialSidebar","previous":{"title":"0150 - Evaluate Reverse Polish Notation (Medium)","permalink":"/solutions/0100-0199/evaluate-reverse-olish-notation-medium"},"next":{"title":"0154 - Find Minimum in Rotated Sorted Array II (Hard)","permalink":"/solutions/0100-0199/find-minimum-in-rotated-sorted-array-ii-hard"}}');var i=s(74848),t=s(28453);const r={description:"Author: @ColeB2 | https://leetcode.com/problems/maximum-product-subarray/",tags:["Array","Dynamic Programming"]},m="0152 - Maximum Product Subarray (Medium)",l={},c=[{value:"Problem Link",id:"problem-link",level:2},{value:"Problem Statement",id:"problem-statement",level:2},{value:"Approach 1: Dynamic Programming",id:"approach-1-dynamic-programming",level:2}];function h(e){const a={a:"a",annotation:"annotation",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",math:"math",mi:"mi",mn:"mn",mo:"mo",mrow:"mrow",p:"p",pre:"pre",semantics:"semantics",span:"span",strong:"strong",ul:"ul",...(0,t.R)(),...e.components},{SolutionAuthor:s,TabItem:n,Tabs:r}=a;return s||x("SolutionAuthor",!0),n||x("TabItem",!0),r||x("Tabs",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.header,{children:(0,i.jsx)(a.h1,{id:"0152---maximum-product-subarray-medium",children:"0152 - Maximum Product Subarray (Medium)"})}),"\n",(0,i.jsx)(a.h2,{id:"problem-link",children:"Problem Link"}),"\n",(0,i.jsx)(a.p,{children:(0,i.jsx)(a.a,{href:"https://leetcode.com/problems/maximum-product-subarray/",children:"https://leetcode.com/problems/maximum-product-subarray/"})}),"\n",(0,i.jsx)(a.h2,{id:"problem-statement",children:"Problem Statement"}),"\n",(0,i.jsxs)(a.p,{children:["Given an integer array ",(0,i.jsx)(a.code,{children:"nums"}),", find a subarray that has the largest product, and return ",(0,i.jsx)(a.em,{children:"the product"}),"."]}),"\n",(0,i.jsxs)(a.p,{children:["The test cases are generated so that the answer will fit in a ",(0,i.jsx)(a.strong,{children:"32-bit"})," integer."]}),"\n",(0,i.jsx)(a.p,{children:(0,i.jsx)(a.strong,{children:"Example 1:"})}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{children:"Input: nums = [2,3,-2,4]\nOutput: 6\nExplanation: [2,3] has the largest product 6.\n"})}),"\n",(0,i.jsx)(a.p,{children:(0,i.jsx)(a.strong,{children:"Example 2:"})}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{children:"Input: nums = [-2,0,-1]\nOutput: 0\nExplanation: The result cannot be 2, because [-2,-1] is not a subarray.\n"})}),"\n",(0,i.jsx)(a.p,{children:(0,i.jsx)(a.strong,{children:"Constraints:"})}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsx)(a.li,{children:(0,i.jsx)(a.code,{children:"1 <= nums.length <= 2 * 10^4"})}),"\n",(0,i.jsx)(a.li,{children:(0,i.jsx)(a.code,{children:"-10 <= nums[i] <= 10"})}),"\n",(0,i.jsxs)(a.li,{children:["The product of any prefix or suffix of ",(0,i.jsx)(a.code,{children:"nums"})," is ",(0,i.jsx)(a.strong,{children:"guaranteed"})," to fit in a ",(0,i.jsx)(a.strong,{children:"32-bit"})," integer."]}),"\n"]}),"\n",(0,i.jsx)(a.h2,{id:"approach-1-dynamic-programming",children:"Approach 1: Dynamic Programming"}),"\n",(0,i.jsxs)(a.p,{children:["We can solve this in a single pass using dynamic programming. While looping through the numbers, we just need to track both the ",(0,i.jsxs)(a.span,{className:"katex",children:[(0,i.jsx)(a.span,{className:"katex-mathml",children:(0,i.jsx)(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(a.semantics,{children:[(0,i.jsxs)(a.mrow,{children:[(0,i.jsx)(a.mi,{children:"m"}),(0,i.jsx)(a.mi,{children:"i"}),(0,i.jsx)(a.mi,{children:"n"})]}),(0,i.jsx)(a.annotation,{encoding:"application/x-tex",children:"min"})]})})}),(0,i.jsx)(a.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(a.span,{className:"base",children:[(0,i.jsx)(a.span,{className:"strut",style:{height:"0.6595em"}}),(0,i.jsx)(a.span,{className:"mord mathnormal",children:"min"})]})})]})," and the ",(0,i.jsxs)(a.span,{className:"katex",children:[(0,i.jsx)(a.span,{className:"katex-mathml",children:(0,i.jsx)(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(a.semantics,{children:[(0,i.jsxs)(a.mrow,{children:[(0,i.jsx)(a.mi,{children:"m"}),(0,i.jsx)(a.mi,{children:"a"}),(0,i.jsx)(a.mi,{children:"x"})]}),(0,i.jsx)(a.annotation,{encoding:"application/x-tex",children:"max"})]})})}),(0,i.jsx)(a.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(a.span,{className:"base",children:[(0,i.jsx)(a.span,{className:"strut",style:{height:"0.4306em"}}),(0,i.jsx)(a.span,{className:"mord mathnormal",children:"ma"}),(0,i.jsx)(a.span,{className:"mord mathnormal",children:"x"})]})})]})," values ending at ",(0,i.jsxs)(a.span,{className:"katex",children:[(0,i.jsx)(a.span,{className:"katex-mathml",children:(0,i.jsx)(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(a.semantics,{children:[(0,i.jsx)(a.mrow,{children:(0,i.jsx)(a.mi,{children:"i"})}),(0,i.jsx)(a.annotation,{encoding:"application/x-tex",children:"i"})]})})}),(0,i.jsx)(a.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(a.span,{className:"base",children:[(0,i.jsx)(a.span,{className:"strut",style:{height:"0.6595em"}}),(0,i.jsx)(a.span,{className:"mord mathnormal",children:"i"})]})})]}),". Swap them if the current number at the position is negative (as that will make the ",(0,i.jsxs)(a.span,{className:"katex",children:[(0,i.jsx)(a.span,{className:"katex-mathml",children:(0,i.jsx)(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(a.semantics,{children:[(0,i.jsxs)(a.mrow,{children:[(0,i.jsx)(a.mi,{children:"m"}),(0,i.jsx)(a.mi,{children:"i"}),(0,i.jsx)(a.mi,{children:"n"})]}),(0,i.jsx)(a.annotation,{encoding:"application/x-tex",children:"min"})]})})}),(0,i.jsx)(a.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(a.span,{className:"base",children:[(0,i.jsx)(a.span,{className:"strut",style:{height:"0.6595em"}}),(0,i.jsx)(a.span,{className:"mord mathnormal",children:"min"})]})})]}),",",(0,i.jsxs)(a.span,{className:"katex",children:[(0,i.jsx)(a.span,{className:"katex-mathml",children:(0,i.jsx)(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(a.semantics,{children:[(0,i.jsxs)(a.mrow,{children:[(0,i.jsx)(a.mi,{children:"m"}),(0,i.jsx)(a.mi,{children:"a"}),(0,i.jsx)(a.mi,{children:"x"})]}),(0,i.jsx)(a.annotation,{encoding:"application/x-tex",children:"max"})]})})}),(0,i.jsx)(a.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(a.span,{className:"base",children:[(0,i.jsx)(a.span,{className:"strut",style:{height:"0.4306em"}}),(0,i.jsx)(a.span,{className:"mord mathnormal",children:"ma"}),(0,i.jsx)(a.span,{className:"mord mathnormal",children:"x"})]})})]})," switch), then calculate the new ",(0,i.jsxs)(a.span,{className:"katex",children:[(0,i.jsx)(a.span,{className:"katex-mathml",children:(0,i.jsx)(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(a.semantics,{children:[(0,i.jsxs)(a.mrow,{children:[(0,i.jsx)(a.mi,{children:"m"}),(0,i.jsx)(a.mi,{children:"i"}),(0,i.jsx)(a.mi,{children:"n"})]}),(0,i.jsx)(a.annotation,{encoding:"application/x-tex",children:"min"})]})})}),(0,i.jsx)(a.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(a.span,{className:"base",children:[(0,i.jsx)(a.span,{className:"strut",style:{height:"0.6595em"}}),(0,i.jsx)(a.span,{className:"mord mathnormal",children:"min"})]})})]}),",",(0,i.jsxs)(a.span,{className:"katex",children:[(0,i.jsx)(a.span,{className:"katex-mathml",children:(0,i.jsx)(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(a.semantics,{children:[(0,i.jsxs)(a.mrow,{children:[(0,i.jsx)(a.mi,{children:"m"}),(0,i.jsx)(a.mi,{children:"a"}),(0,i.jsx)(a.mi,{children:"x"})]}),(0,i.jsx)(a.annotation,{encoding:"application/x-tex",children:"max"})]})})}),(0,i.jsx)(a.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(a.span,{className:"base",children:[(0,i.jsx)(a.span,{className:"strut",style:{height:"0.4306em"}}),(0,i.jsx)(a.span,{className:"mord mathnormal",children:"ma"}),(0,i.jsx)(a.span,{className:"mord mathnormal",children:"x"})]})})]})," as either the ",(0,i.jsxs)(a.span,{className:"katex",children:[(0,i.jsx)(a.span,{className:"katex-mathml",children:(0,i.jsx)(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(a.semantics,{children:[(0,i.jsxs)(a.mrow,{children:[(0,i.jsx)(a.mi,{children:"m"}),(0,i.jsx)(a.mi,{children:"i"}),(0,i.jsx)(a.mi,{children:"n"})]}),(0,i.jsx)(a.annotation,{encoding:"application/x-tex",children:"min"})]})})}),(0,i.jsx)(a.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(a.span,{className:"base",children:[(0,i.jsx)(a.span,{className:"strut",style:{height:"0.6595em"}}),(0,i.jsx)(a.span,{className:"mord mathnormal",children:"min"})]})})]}),"/",(0,i.jsxs)(a.span,{className:"katex",children:[(0,i.jsx)(a.span,{className:"katex-mathml",children:(0,i.jsx)(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(a.semantics,{children:[(0,i.jsxs)(a.mrow,{children:[(0,i.jsx)(a.mi,{children:"m"}),(0,i.jsx)(a.mi,{children:"a"}),(0,i.jsx)(a.mi,{children:"x"})]}),(0,i.jsx)(a.annotation,{encoding:"application/x-tex",children:"max"})]})})}),(0,i.jsx)(a.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(a.span,{className:"base",children:[(0,i.jsx)(a.span,{className:"strut",style:{height:"0.4306em"}}),(0,i.jsx)(a.span,{className:"mord mathnormal",children:"ma"}),(0,i.jsx)(a.span,{className:"mord mathnormal",children:"x"})]})})]})," of the current num or the current num times ",(0,i.jsxs)(a.span,{className:"katex",children:[(0,i.jsx)(a.span,{className:"katex-mathml",children:(0,i.jsx)(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(a.semantics,{children:[(0,i.jsxs)(a.mrow,{children:[(0,i.jsx)(a.mi,{children:"m"}),(0,i.jsx)(a.mi,{children:"i"}),(0,i.jsx)(a.mi,{children:"n"})]}),(0,i.jsx)(a.annotation,{encoding:"application/x-tex",children:"min"})]})})}),(0,i.jsx)(a.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(a.span,{className:"base",children:[(0,i.jsx)(a.span,{className:"strut",style:{height:"0.6595em"}}),(0,i.jsx)(a.span,{className:"mord mathnormal",children:"min"})]})})]}),"/",(0,i.jsxs)(a.span,{className:"katex",children:[(0,i.jsx)(a.span,{className:"katex-mathml",children:(0,i.jsx)(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(a.semantics,{children:[(0,i.jsxs)(a.mrow,{children:[(0,i.jsx)(a.mi,{children:"m"}),(0,i.jsx)(a.mi,{children:"a"}),(0,i.jsx)(a.mi,{children:"x"})]}),(0,i.jsx)(a.annotation,{encoding:"application/x-tex",children:"max"})]})})}),(0,i.jsx)(a.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(a.span,{className:"base",children:[(0,i.jsx)(a.span,{className:"strut",style:{height:"0.4306em"}}),(0,i.jsx)(a.span,{className:"mord mathnormal",children:"ma"}),(0,i.jsx)(a.span,{className:"mord mathnormal",children:"x"})]})})]}),". We can then update the global max product with the current max and the max ending at i."]}),"\n",(0,i.jsxs)(a.p,{children:["Time Complexity: ",(0,i.jsxs)(a.span,{className:"katex",children:[(0,i.jsx)(a.span,{className:"katex-mathml",children:(0,i.jsx)(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(a.semantics,{children:[(0,i.jsxs)(a.mrow,{children:[(0,i.jsx)(a.mi,{children:"O"}),(0,i.jsx)(a.mo,{stretchy:"false",children:"("}),(0,i.jsx)(a.mi,{children:"n"}),(0,i.jsx)(a.mo,{stretchy:"false",children:")"})]}),(0,i.jsx)(a.annotation,{encoding:"application/x-tex",children:"O(n)"})]})})}),(0,i.jsx)(a.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(a.span,{className:"base",children:[(0,i.jsx)(a.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,i.jsx)(a.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"O"}),(0,i.jsx)(a.span,{className:"mopen",children:"("}),(0,i.jsx)(a.span,{className:"mord mathnormal",children:"n"}),(0,i.jsx)(a.span,{className:"mclose",children:")"})]})})]}),", where n is the length of nums. We are going to loop through each num in nums."]}),"\n",(0,i.jsxs)(a.p,{children:["Space Complexity: ",(0,i.jsxs)(a.span,{className:"katex",children:[(0,i.jsx)(a.span,{className:"katex-mathml",children:(0,i.jsx)(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(a.semantics,{children:[(0,i.jsxs)(a.mrow,{children:[(0,i.jsx)(a.mi,{children:"O"}),(0,i.jsx)(a.mo,{stretchy:"false",children:"("}),(0,i.jsx)(a.mn,{children:"1"}),(0,i.jsx)(a.mo,{stretchy:"false",children:")"})]}),(0,i.jsx)(a.annotation,{encoding:"application/x-tex",children:"O(1)"})]})})}),(0,i.jsx)(a.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(a.span,{className:"base",children:[(0,i.jsx)(a.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,i.jsx)(a.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"O"}),(0,i.jsx)(a.span,{className:"mopen",children:"("}),(0,i.jsx)(a.span,{className:"mord",children:"1"}),(0,i.jsx)(a.span,{className:"mclose",children:")"})]})})]}),", we only need constant space to track variables of our min/max ending at i, as well as our max product."]}),"\n",(0,i.jsx)(r,{children:(0,i.jsxs)(n,{value:"python",label:"Python",children:[(0,i.jsx)(s,{name:"@ColeB2"}),(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-py",children:"class Solution:\n    def maxProduct(self, nums: List[int]) -> int:\n        # initialize max_product, and our min/max ending at i.\n        # They can all initialize as the first value.\n        max_product = nums[0]\n        min_ending_at_i = nums[0]\n        max_ending_at_i = nums[0]\n        # start our loop at 1, since we already handled first value.\n        for i in range(1, len(nums)):\n            # track the current num\n            num = nums[i]\n            # if current num is negative:\n            if num < 0:\n                # swap min/max values as a negative number will make\n                # the min our max and the max our min.\n                min_ending_at_i, max_ending_at_i = max_ending_at_i, min_ending_at_i\n            # solve the new max/min ending at i.\n            max_ending_at_i = max(num, max_ending_at_i*num)\n            min_ending_at_i = min(num, min_ending_at_i*num)\n            # update our max product\n            max_product = max(max_product, max_ending_at_i)\n        # return our max product\n        return max_product\n"})})]})})]})}function d(e={}){const{wrapper:a}={...(0,t.R)(),...e.components};return a?(0,i.jsx)(a,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}function x(e,a){throw new Error("Expected "+(a?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},28453:(e,a,s)=>{s.d(a,{R:()=>r,x:()=>m});var n=s(96540);const i={},t=n.createContext(i);function r(e){const a=n.useContext(t);return n.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function m(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),n.createElement(t.Provider,{value:a},e.children)}}}]);